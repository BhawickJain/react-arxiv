{"version":3,"sources":["components/ArticleOverview.js","components/NoResults.js","searchContext.js","components/ShowResults.js","components/Textfield.js","functions/searchArvix.js","functions/extractXmlResults.js","components/Form.js","components/button.js","appContext.js","components/SearchArticle.js","index.js"],"names":["ArticleOverview","props","className","paperTitle","paperAbstract","NoResults","SearchContext","React","createContext","initialSearchState","searchValue","searchResults","SearchProvider","children","useState","searchState","setSearchState","Provider","value","ShowResults","useContext","length","console","log","map","r","index","title","_text","summary","Textfield","searchBarRef","useRef","useEffect","focus","current","label","ref","type","onChange","e","a","axios","get","response","error","searchArvix","convert","require","extractXMLResults","xmlResults","result","xml2json","compact","spaces","JSON","parse","Form","handleSubmit","preventDefault","xmlSearchResults","data","jsonData","undefined","entry","feed","onSubmit","target","handleSearchBar","Button","handleClick","handleKeydown","key","keyCode","window","addEventListener","removeEventListener","id","onClick","name","AppContext","initialAppState","darkMode","AppProvider","appState","setAppState","SearchArticle","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cc7aebf9.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport \"./ArticleOverview.css\";\n\nconst ArticleOverview = (props) => {\n  return (\n    <div className=\"ArticleOverview\">\n      <h1>{props.paperTitle}</h1>\n      <h2 className=\"abstract\">abstract</h2>\n      <p>{props.paperAbstract}</p>\n    </div>\n  );\n};\n\nexport default ArticleOverview;\n","import React from \"react\";\n\nconst NoResults = (props) => {\n  return (\n    <div>\n      <h3 className=\"NoResults\">no results found</h3>\n    </div>\n  );\n};\n\nexport default NoResults;\n","import React, { useState } from \"react\";\n\nexport const SearchContext = React.createContext([{}, () => {}]);\n\nconst initialSearchState = {\n  searchValue: \"\",\n  searchResults: null,\n};\n\nconst SearchProvider = ({ children }) => {\n  const [searchState, setSearchState] = useState(initialSearchState);\n  return (\n    <SearchContext.Provider value={[searchState, setSearchState]}>\n      {children}\n    </SearchContext.Provider>\n  );\n};\n\nexport default SearchProvider;\n","import React, { useContext } from \"react\";\nimport ArticleOverview from \"./ArticleOverview\";\nimport NoResults from \"./NoResults\";\nimport \"./NoResults.css\";\nimport { SearchContext } from \"./../searchContext\";\n\nconst ShowResults = (props) => {\n  const [searchState, setSearchState] = useContext(SearchContext);\n  if (searchState.searchValue.length !== 0) {\n    if (\n      searchState.searchValue.length !== 0 &&\n      searchState.searchResults === \"none found\"\n    ) {\n      return <NoResults />;\n    }\n    if (\n      searchState.searchResults !== null &&\n      searchState.searchResults.length > 0\n    ) {\n      console.log(\"results found - \" + searchState.searchResults.length);\n      return searchState.searchResults.map((r, index) => {\n        return (\n          <ArticleOverview\n            key={index}\n            paperTitle={r.title._text || \"\"}\n            paperAbstract={r.summary._text || \"\"}\n          />\n        );\n      });\n    }\n    if (searchState.searchResults !== null) {\n      console.log(\"1 result found\");\n      return (\n        <ArticleOverview\n          paperTitle={searchState.searchResults.title._text || \"\"}\n          paperAbstract={searchState.searchResults.summary._text || \"\"}\n        />\n      );\n    }\n  }\n  return \"\";\n};\n\nexport default ShowResults;\n","import React, { useEffect, useRef } from \"react\";\nimport \"./Textfield.css\";\n\nconst Textfield = (props) => {\n  const searchBarRef = useRef(null);\n\n  useEffect(() => {\n    if (props.focus === \"true\") {\n      searchBarRef.current.focus();\n    }\n  }, []);\n\n  return (\n    <label className={props.className}>\n      <span>{props.label}</span>\n      <input\n        focus={props.focus}\n        ref={searchBarRef}\n        type={props.type}\n        value={props.value}\n        onChange={(e) => {\n          props.onChange(e);\n        }}\n      />\n    </label>\n  );\n};\n\nexport default Textfield;\n","import axios from \"axios\";\n\nasync function searchArvix(searchValue) {\n  try {\n    const response = await axios.get(\n      `https://export.arxiv.org/api/query?search_query=all:\"${searchValue}\"&sortBy=lastUpdatedDate&sortOrder=descending`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport default searchArvix;\n","const convert = require(\"xml-js\");\n\nconst extractXMLResults = (xmlResults) => {\n  const result = convert.xml2json(xmlResults, { compact: true, spaces: 4 });\n  const resultJSON = JSON.parse(result);\n  return resultJSON;\n};\n\nexport default extractXMLResults;\n","import React, { useContext } from \"react\";\nimport Textfield from \"./Textfield\";\nimport searchArvix from \"../functions/searchArvix\";\nimport extractXMLResults from \"../functions/extractXmlResults\";\nimport { SearchContext } from \"./../searchContext\";\n\nconst Form = (props) => {\n  const [searchState, setSearchState] = useContext(SearchContext);\n\n  const handleSubmit = async (e) => {\n    // prevents refresh of page\n    // must be first to prevent page reloading and interfering with request\n    e.preventDefault();\n    console.log(\"You have submitted!\");\n    console.log(searchState);\n    const xmlSearchResults = await searchArvix(searchState.searchValue);\n    const jsonData = await extractXMLResults(xmlSearchResults.data);\n    let entry = jsonData.feed.entry;\n\n    if (entry === undefined) {\n      entry = \"none found\";\n    }\n\n    setSearchState({\n      ...searchState,\n      searchResults: entry,\n    });\n  };\n\n  const handleSearchBar = (e) => {\n    const value = e.target.value;\n    if (value.length === 0) {\n      setSearchState({ searchValue: \"\", searchResults: null });\n    } else {\n      setSearchState({ ...searchState, searchValue: value });\n    }\n  };\n  return (\n    <form className={props.className} onSubmit={handleSubmit}>\n      <Textfield\n        className=\"searchBar\"\n        focus=\"true\"\n        type=\"text:\"\n        label=\"ðŸ”Ž\"\n        value={searchState.searchValue}\n        onChange={(e) => {\n          handleSearchBar(e);\n        }}\n      />\n    </form>\n  );\n};\n\nexport default Form;\n","import React, { useEffect } from \"react\";\nimport \"./button.css\";\n\nconst Button = (props) => {\n  const handleClick = props.handleClick;\n  const handleKeydown = (e) => {\n    if (e.key === props.keyCode) {\n      console.log(props.keyCode);\n      handleClick();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeydown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeydown);\n    };\n  }, [props]);\n\n  return (\n    <button id={props.id} className={props.className} onClick={handleClick}>\n      {props.name}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useState } from \"react\";\n\nexport const AppContext = React.createContext([{}, () => {}]);\n\nconst initialAppState = {\n  darkMode: false,\n};\n\nconst AppProvider = ({ children }) => {\n  const [appState, setAppState] = useState(initialAppState);\n  return (\n    <AppContext.Provider value={[appState, setAppState]}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppProvider;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport ShowResults from \"./ShowResults\";\nimport Form from \"./Form\";\nimport { SearchContext } from \"./../searchContext\";\nimport Button from \"./button\";\nimport { AppContext } from \"./../appContext\";\nimport { array } from \"prop-types\";\n\nconst SearchArticle = () => {\n  const [searchState, setSearchState] = useContext(SearchContext);\n  const [appState, setAppState] = useContext(AppContext);\n\n  useEffect(() => {\n    // console.log(\"search article: \" + searchState.searchResults);\n  }, [searchState]);\n\n  useEffect(() => {\n    console.log(\"appstate: \" + appState.darkMode);\n  }, [appState]);\n\n  const toggleDarkMode = () => {\n    console.log(\"toggling darkmode\");\n    console.log(appState.darkMode);\n    return appState.darkMode === true ? false : true;\n  };\n\n  return (\n    <section className={appState.darkMode ? \"dark\" : \"\"}>\n      <Form\n        className={\n          //TODO\n          searchState.searchResults &&\n          searchState.searchResults !== \"none found\" &&\n          searchState.searchValue.length > 0\n            ? \"hasResults\"\n            : \"\"\n        }\n      />\n      <Button\n        id=\"darkMode\"\n        name={appState.darkMode ? \"ðŸŒ–\" : \"ðŸŒ’\"}\n        handleClick={() => {\n          setAppState({\n            ...appState,\n            darkMode: toggleDarkMode(),\n          });\n        }}\n      />\n      <ShowResults searchState={{ searchState }} />\n    </section>\n  );\n};\n\nexport default SearchArticle;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport SearchArticle from \"./components/SearchArticle\";\nimport AppProvider from \"./appContext\";\nimport SearchProvider from \"./searchContext\";\n\nconst App = () => {\n  return (\n    <AppProvider>\n      <SearchProvider>\n        <SearchArticle />\n      </SearchProvider>\n    </AppProvider>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
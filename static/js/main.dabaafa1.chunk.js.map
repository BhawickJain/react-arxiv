{"version":3,"sources":["components/ArticleOverview.js","components/NoResults.js","searchContext.js","components/ShowResults.js","components/Textfield.js","functions/searchArvix.js","functions/extractXmlResults.js","components/Form.js","components/button.js","appContext.js","components/SearchArticle.js","index.js"],"names":["ArticleOverview","props","className","paperTitle","paperAbstract","NoResults","SearchContext","React","createContext","initialSearchState","searchValue","searchResults","SearchProvider","children","useState","searchState","setSearchState","Provider","value","ShowResults","useContext","console","log","undefined","length","map","r","index","title","_text","summary","Textfield","searchBarRef","useRef","useEffect","focus","current","label","ref","type","onChange","e","a","axios","get","response","error","searchArvix","convert","require","extractXMLResults","xmlResults","result","xml2json","compact","spaces","JSON","parse","Form","handleSubmit","preventDefault","xmlSearchResults","data","jsonData","entry","feed","onSubmit","target","handleSearchBar","Button","handleClick","handleKeydown","key","keyCode","window","addEventListener","removeEventListener","id","onClick","name","AppContext","initialAppState","darkMode","AppProvider","appState","setAppState","SearchArticle","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dabaafa1.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport \"./ArticleOverview.css\";\n\nconst ArticleOverview = (props) => {\n  return (\n    <div className=\"ArticleOverview\">\n      <h1>{props.paperTitle}</h1>\n      <h2 className=\"abstract\">abstract</h2>\n      <p>{props.paperAbstract}</p>\n    </div>\n  );\n};\n\nexport default ArticleOverview;\n","import React from \"react\";\n\nconst NoResults = (props) => {\n  return (\n    <div>\n      <h3 className=\"NoResults\">no results found</h3>\n    </div>\n  );\n};\n\nexport default NoResults;\n","import React, { useState } from \"react\";\n\nexport const SearchContext = React.createContext([{}, () => {}]);\n\nconst initialSearchState = {\n  searchValue: \"\",\n  searchResults: null,\n};\n\nconst SearchProvider = ({ children }) => {\n  const [searchState, setSearchState] = useState(initialSearchState);\n  return (\n    <SearchContext.Provider value={[searchState, setSearchState]}>\n      {children}\n    </SearchContext.Provider>\n  );\n};\n\nexport default SearchProvider;\n","import React, { useContext } from \"react\";\nimport ArticleOverview from \"./ArticleOverview\";\nimport NoResults from \"./NoResults\";\nimport \"./NoResults.css\";\nimport { SearchContext } from \"./../searchContext\";\n\nconst ShowResults = (props) => {\n  const [searchState, setSearchState] = useContext(SearchContext);\n  console.log(searchState);\n  if (searchState.searchResults !== null) {\n    if (searchState.searchResults === undefined) {\n      return <NoResults />;\n    }\n    if (\n      searchState.searchResults !== null &&\n      searchState.searchResults.length > 0\n    ) {\n      console.log(\"results found - \" + searchState.searchResults.length);\n      return searchState.searchResults.map((r, index) => {\n        return (\n          <ArticleOverview\n            key={index}\n            paperTitle={r.title._text || \"\"}\n            paperAbstract={r.summary._text || \"\"}\n          />\n        );\n      });\n    }\n    if (searchState.searchResults !== null) {\n      console.log(\"1 result found\");\n      return (\n        <ArticleOverview\n          paperTitle={searchState.searchResults.title._text || \"\"}\n          paperAbstract={searchState.searchResults.summary._text || \"\"}\n        />\n      );\n    }\n  }\n  return \"\";\n};\n\nexport default ShowResults;\n","import React, { useEffect, useRef } from \"react\";\nimport \"./Textfield.css\";\n\nconst Textfield = (props) => {\n  const searchBarRef = useRef(null);\n\n  useEffect(() => {\n    if (props.focus === \"true\") {\n      searchBarRef.current.focus();\n    }\n  }, []);\n\n  return (\n    <label className={props.className}>\n      <span>{props.label}</span>\n      <input\n        focus={props.focus}\n        ref={searchBarRef}\n        type={props.type}\n        value={props.value}\n        onChange={(e) => {\n          props.onChange(e);\n        }}\n      />\n    </label>\n  );\n};\n\nexport default Textfield;\n","import axios from \"axios\";\n\nasync function searchArvix(searchValue) {\n  try {\n    const response = await axios.get(\n      `https://export.arxiv.org/api/query?search_query=all:\"${searchValue}\"&sortBy=lastUpdatedDate&sortOrder=descending`\n    );\n\n    return response;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport default searchArvix;\n","const convert = require(\"xml-js\");\n\nconst extractXMLResults = (xmlResults) => {\n  const result = convert.xml2json(xmlResults, { compact: true, spaces: 4 });\n  const resultJSON = JSON.parse(result);\n  return resultJSON;\n  //   console.log(resultJSON.feed.entry[0].title._text);\n};\n\nexport default extractXMLResults;\n","import React, { useContext } from \"react\";\nimport Textfield from \"./Textfield\";\nimport searchArvix from \"../functions/searchArvix\";\nimport extractXMLResults from \"../functions/extractXmlResults\";\nimport { SearchContext } from \"./../searchContext\";\n\nconst Form = () => {\n  const [searchState, setSearchState] = useContext(SearchContext);\n\n  const handleSubmit = async (e) => {\n    // prevents refresh of page\n    // must be first to prevent page reloading and interfering with request\n    e.preventDefault();\n    console.log(\"You have submitted!\");\n    console.log(searchState);\n    const xmlSearchResults = await searchArvix(searchState.searchValue);\n    const jsonData = await extractXMLResults(xmlSearchResults.data);\n    const entry = jsonData.feed.entry;\n    setSearchState({\n      ...searchState,\n      searchResults: entry,\n    });\n    // console.log(jsonData.feed.entry);\n    // console.log(props.searchState.searchResults);\n  };\n\n  const handleSearchBar = (e) => {\n    // console.log(\"value: \" + value);\n    // const setSearchState = props.setSearchState;\n    const value = e.target.value;\n    console.log(searchState);\n    setSearchState({ ...searchState, searchValue: value });\n    // console.log(props.searchState);\n  };\n  return (\n    <form onSubmit={handleSubmit}>\n      <Textfield\n        className=\"searchBar\"\n        focus=\"true\"\n        type=\"text:\"\n        label=\"Search\"\n        value={searchState.searchValue}\n        onChange={(e) => {\n          handleSearchBar(e);\n        }}\n      />\n    </form>\n  );\n};\n\nexport default Form;\n","import React, { useEffect } from \"react\";\nimport \"./button.css\";\n\nconst Button = (props) => {\n  const handleClick = props.handleClick;\n  const handleKeydown = (e) => {\n    if (e.key === props.keyCode) {\n      console.log(props.keyCode);\n      handleClick();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeydown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeydown);\n    };\n  }, [props]);\n\n  return (\n    <button id={props.id} className={props.className} onClick={handleClick}>\n      {props.name}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useState } from \"react\";\n\nexport const AppContext = React.createContext([{}, () => {}]);\n\nconst initialAppState = {\n  darkMode: false,\n};\n\nconst AppProvider = ({ children }) => {\n  const [appState, setAppState] = useState(initialAppState);\n  return (\n    <AppContext.Provider value={[appState, setAppState]}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppProvider;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport ShowResults from \"./ShowResults\";\nimport Form from \"./Form\";\nimport SearchProvider, { SearchContext } from \"./../searchContext\";\nimport Button from \"./button\";\nimport { AppContext } from \"./../appContext\";\n\nconst SearchArticle = () => {\n  const [searchState, setSearchState] = useContext(SearchContext);\n  const [appState, setAppState] = useContext(AppContext);\n\n  useEffect(() => {\n    console.log(searchState);\n  }, [searchState]);\n\n  useEffect(() => {\n    console.log(\"appstate: \" + appState.darkMode);\n  }, [appState]);\n\n  const toggleDarkMode = () => {\n    console.log(\"toggling darkmode\");\n    console.log(appState.darkMode);\n    return appState.darkMode === true ? false : true;\n  };\n\n  return (\n    <SearchProvider>\n      <div className={appState.darkMode ? \"dark\" : \"\"}>\n        <div className=\"page\">\n          <Form />\n          <Button\n            id=\"darkMode\"\n            name={appState.darkMode ? \"🌖\" : \"🌒\"}\n            handleClick={() => {\n              setAppState({\n                ...appState,\n                darkMode: toggleDarkMode(),\n              });\n            }}\n          />\n          <ShowResults searchState={{ searchState }} />\n        </div>\n      </div>\n    </SearchProvider>\n  );\n};\n\nexport default SearchArticle;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport SearchArticle from \"./components/SearchArticle\";\nimport AppProvider from \"./appContext\";\n\nconst App = () => {\n  return (\n    <AppProvider>\n      <SearchArticle />\n    </AppProvider>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}